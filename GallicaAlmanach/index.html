<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8' />
  <title>Nouvel onglet</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
  <link rel='stylesheet' href='assets/css/base.css' />
  <link rel='stylesheet' href='assets/css/leaflet.css' />
  <link rel='stylesheet' href='assets/css/site.css'>
</head>

<body>
  <div id='app'></div>
</body>
<script>

window.dataGlobal = [];

// calling gallicapix api
const api_url =
      "https://gallica.bnf.fr/iiif/ark:/12148/bpt6k9604118j/f24/info.json";

// Defining async function
const getApi = async () => {
    // Storing response
    const response = await fetch(api_url);
    // Storing data in form of JSON
    var data = await response.json();
    var myID = data['@id'];
    myID = myID.split('12148/')[1];
    console.log(myID);
    return myID
}

getApi().then(myData => {
      console.log("index.html | ", myData);
      window.dataGlobal = [myData]
    });

</script>

<script src='assets/bundle.js'></script>
</html>
